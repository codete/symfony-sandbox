<?xml version="1.0" encoding="UTF-8"?>
<project name="symfony-bootstrap" default="help">
    <dirname property="symfony-bootstrap.basedir" file="ant.file.symfony.bootstrap" />

    <target name="create-github-repo" description="Create a new github repository for the project.">
        <exec executable="curl">
            <arg value="-u" />
            <arg value="${GITHUB_JENKINS_USER}:${GITHUB_JENKINS_TOKEN}" />
            <arg value="-X" />
            <arg value="POST" />
            <arg value="-H" />
            <arg value="'Content-Type: application/json'" />
            <arg value="-d" />
            <arg value="'{&quot;name&quot;=&quot;${PROJECT_NAME}&quot;,&quot;private&quot;: true,&quot;description&quot;:&quot;Autogenerated symfony2 project.&quot;}'" />
            <arg value="https://api.github.com/orgs/${GITHUB_JENKINS_ORG}/repos" />
        </exec>
        <exec executable="git">
            <arg value="remote" />
            <arg value="add" />
            <arg value="project" />
            <arg value="git@github.com:codete/${PROJECT_NAME}" />
        </exec>
        <exec executable="git">
            <arg value="push" />
            <arg value="project" />
            <arg value="master" />
        </exec>
    </target>
</project>
